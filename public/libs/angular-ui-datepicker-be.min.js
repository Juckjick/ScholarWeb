angular.module("ui.bootstrap.datepicker.be.directive",[]).directive("datepickerPopup",["$compile","$parse","$document","$position","$filter","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g,h){return{restrict:"EA",priority:100,require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(i,j,k,l){function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(a){if(a){if(angular.isDate(a)&&!isNaN(a))return l.$setValidity("date",!0),a;if(angular.isString(a)){var b=g.parse(a,o)||new Date(a);return isNaN(b)?void l.$setValidity("date",!1):(l.$setValidity("date",!0),b)}return void l.$setValidity("date",!1)}return l.$setValidity("date",!0),null}var o,p=angular.isDefined(k.closeOnDateSelection)?i.$parent.$eval(k.closeOnDateSelection):h.closeOnDateSelection,q=angular.isDefined(k.datepickerAppendToBody)?i.$parent.$eval(k.datepickerAppendToBody):h.appendToBody;i.showButtonBar=angular.isDefined(k.showButtonBar)?i.$parent.$eval(k.showButtonBar):h.showButtonBar,i.getText=function(a){return i[a+"Text"]||h[a+"Text"]},k.$observe("datepickerPopup",function(a){o=a||h.datepickerPopup,l.$render()});var r=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");r.attr({"ng-model":"date","ng-change":"dateSelection()"});var s=angular.element(r.children()[0]);k.datepickerOptions&&angular.forEach(i.$parent.$eval(k.datepickerOptions),function(a,b){s.attr(m(b),a)}),i.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(k[a]){var c=b(k[a]);if(i.$parent.$watch(c,function(b){i.watchData[a]=b}),s.attr(m(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;i.$watch("watchData."+a,function(a,b){a!==b&&d&&d(i.$parent,a)})}}}),k.dateDisabled&&s.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.$parsers.unshift(n),i.dateSelection=function(a){angular.isDefined(a)&&(i.date=a),l.$setViewValue(i.date),l.$render(),p&&(i.isOpen=!1,j[0].focus())},j.bind("input change keyup",function(){i.$apply(function(){i.date=l.$modelValue})}),l.$render=function(){var a=l.$viewValue?f(e("buddhistEra")(l.$viewValue),o):"";j.val(a),i.date=n(l.$modelValue)};var t=function(a){i.isOpen&&a.target!==j[0]&&i.$apply(function(){i.isOpen=!1})},u=function(a){i.keydown(a)};j.bind("keydown",u),i.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),i.close()):40!==a.which||i.isOpen||(i.isOpen=!0)},i.$watch("isOpen",function(a){a?(i.$broadcast("datepicker.focus"),i.position=q?d.offset(j):d.position(j),i.position.top=i.position.top+j.prop("offsetHeight"),c.bind("click",t)):c.unbind("click",t)}),i.select=function(a){if("today"===a){var b=new Date;angular.isDate(l.$modelValue)?(a=new Date(l.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}i.dateSelection(a)},i.close=function(){i.isOpen=!1,j[0].focus()};var v=a(r)(i);r.remove(),q?c.find("body").append(v):j.after(v),i.$on("$destroy",function(){v.remove(),j.unbind("keydown",u),c.unbind("click",t)})}}}]),angular.module("ui.bootstrap.datepicker.be.filter",[]).filter("buddhistEra",[function(){return function(a,b){var c=543,d=43;return a?"dayTitle"===b?(titles=a.split(" "),[titles[0],parseInt(titles[1])+c].join(" ")):"monthTitle"===b?(parseInt(a)+c).toString():"yearTitle"===b?(titles=a.split(" - "),4===titles[0].length?[parseInt(titles[0])+c,parseInt(titles[1])+c].join(" - "):[parseInt(titles[0])+d,parseInt(titles[1])+d].join(" - ")):"yearSelector"===b?4===a.length?moment(a,"YYYY").add(c,"year").format("YYYY"):moment(a,"YY").add(d,"year").format("YY"):moment(a).add(c,"year").toDate():void 0}}]),angular.module("ui.bootstrap.datepicker.be",["ui.bootstrap.datepicker.be.directive","ui.bootstrap.datepicker.be.filter","ui.bootstrap.datepicker.be.tpls"]).config(["$provide",function(a){a.decorator("datepickerPopupDirective",["$delegate",function(a){return a.shift(),a}])}]),angular.module("ui.bootstrap.datepicker.be.tpls",["template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/year.html","template/datepicker/popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html"]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title | buddhistEra:\'dayTitle\'}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title | buddhistEra:\'monthTitle\'}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n <li ng-transclude></li>\n <li ng-if="showButtonBar" style="padding:10px 9px 2px">\n   <span class="btn-group pull-left">\n     <button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n     <button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n   </span>\n   <button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n </li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title | buddhistEra:\'yearTitle\'}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label | buddhistEra: \'yearSelector\'}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]);